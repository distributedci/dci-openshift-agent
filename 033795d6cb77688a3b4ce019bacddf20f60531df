{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a3993380_cab45a88",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 22
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2022-01-20T14:38:51Z",
      "side": 1,
      "message": "LGTM, but maybe I will do a new test before merging, as some tasks have slightly changed.",
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3177f975_a0f3ed97",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 22
      },
      "lineNbr": 0,
      "author": {
        "id": 908
      },
      "writtenOn": "2022-01-20T19:26:36Z",
      "side": 1,
      "message": "Thanks for the clarifications Nacho. \nJust one more question, below, this will help me to understand if we can run this in one of our Dallas cluster.",
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6dfc3403_911818cd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 22
      },
      "lineNbr": 0,
      "author": {
        "id": 908
      },
      "writtenOn": "2022-01-26T16:11:03Z",
      "side": 1,
      "message": "Thanks Nacho for me looks good",
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eeabccd9_79e2de4f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 22
      },
      "lineNbr": 0,
      "author": {
        "id": 821
      },
      "writtenOn": "2022-01-26T23:41:26Z",
      "side": 1,
      "message": "I run the plays in a new environment this afternoon.\n\nDuring the network part of the provisioner, I lost access to the server because I donÂ´t use dhcp. We can maybe add a warning to the documentation about that.\n\n",
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0121a494_9d281584",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 22
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-01-28T14:38:35Z",
      "side": 1,
      "message": "Hey Pierre, thanks for your feedback.\n\nI processed most of your comments. Just the one regarding the network setup requires further considerations.",
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c2eed7a_fbef0d80",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 22
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-01-28T14:38:35Z",
      "side": 1,
      "message": "That\u0027s a good point. The way I see it, we\u0027ll need a comprehensive solution that covers all the possible network configurations:\n\n- static IP addresses.\n- external dhcp solution.\n- internal dhcp solution (dnsmasq running from the jumpbox).",
      "parentUuid": "eeabccd9_79e2de4f",
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e67a24e1_ed344901",
        "filename": "samples/control_nodes_setup/setup_jumpbox_tasks.yml",
        "patchSetId": 22
      },
      "lineNbr": 88,
      "author": {
        "id": 821
      },
      "writtenOn": "2022-01-26T23:41:26Z",
      "side": 1,
      "message": "This option is not existing for openssh_keypair module.",
      "range": {
        "startLine": 88,
        "startChar": 4,
        "endLine": 88,
        "endChar": 13
      },
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10c9bbad_1b892eb1",
        "filename": "samples/control_nodes_setup/setup_jumpbox_tasks.yml",
        "patchSetId": 22
      },
      "lineNbr": 88,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-01-28T14:38:35Z",
      "side": 1,
      "message": "Thanks for noticing. I just checked it and, actually, the openssh_keypair module does not overwrite the key if the existing one matches the defined parameters.\nIn other words, if you run the task twice, the second time ansible won\u0027t change the key file but, if for instance we change the key size, then a new keypair will be created.\nAnother interesting fact of the module is that, if only the private key file exists and the public doesn\u0027t, the module may recover it.\nSo, all in all, I believe the best option is to remove the verification in line 75 and rely on ansible\u0027s idempotency to handle this file.",
      "parentUuid": "e67a24e1_ed344901",
      "range": {
        "startLine": 88,
        "startChar": 4,
        "endLine": 88,
        "endChar": 13
      },
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2144b904_30bf8849",
        "filename": "samples/control_nodes_setup/setup_jumpbox_tasks.yml",
        "patchSetId": 22
      },
      "lineNbr": 89,
      "author": {
        "id": 821
      },
      "writtenOn": "2022-01-26T23:41:26Z",
      "side": 1,
      "message": "We want create it when the key pair in *not* existing :)",
      "range": {
        "startLine": 89,
        "startChar": 1,
        "endLine": 89,
        "endChar": 32
      },
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "722e89af_4bacaaf0",
        "filename": "samples/control_nodes_setup/setup_jumpbox_tasks.yml",
        "patchSetId": 22
      },
      "lineNbr": 89,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-01-28T14:38:35Z",
      "side": 1,
      "message": "(check my previous comment).",
      "parentUuid": "2144b904_30bf8849",
      "range": {
        "startLine": 89,
        "startChar": 1,
        "endLine": 89,
        "endChar": 32
      },
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67e420d1_67cb8cef",
        "filename": "samples/control_nodes_setup/setup_provisioner_tasks.yml",
        "patchSetId": 22
      },
      "lineNbr": 25,
      "author": {
        "id": 908
      },
      "writtenOn": "2022-01-20T19:26:36Z",
      "side": 1,
      "message": "Question: my understanding from the conditions is that no registration will occur in the prov node if we are running this in a disconnected environment correct?",
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b683df9_ee218c11",
        "filename": "samples/control_nodes_setup/setup_provisioner_tasks.yml",
        "patchSetId": 22
      },
      "lineNbr": 25,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-01-21T15:14:03Z",
      "side": 1,
      "message": "Yes, you\u0027re correcto. Sorry I didn\u0027t get y our point at the beginning.\nActually, there\u0027s a second Jira card to implement full support for disconnected environments.",
      "parentUuid": "67e420d1_67cb8cef",
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "675c5d75_f00dca21",
        "filename": "samples/control_nodes_setup/setup_provisioner_tasks.yml",
        "patchSetId": 22
      },
      "lineNbr": 25,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-01-26T13:17:08Z",
      "side": 1,
      "message": "My bad, registration would occur only on connected environments. I understand registration wouldn\u0027t work on a disconnected environment, would it?",
      "parentUuid": "6b683df9_ee218c11",
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7491ca6c_10a6c18a",
        "filename": "samples/control_nodes_setup/setup_provisioner_tasks.yml",
        "patchSetId": 22
      },
      "lineNbr": 25,
      "author": {
        "id": 908
      },
      "writtenOn": "2022-01-26T16:11:03Z",
      "side": 1,
      "message": "Nacho, if registration (subscription) works in connected environments for now it\u0027s ok, the registration can be done in disconnected mode too, but you need to set a proxy and modify some settings of the rhn files, anyways that looks more like a future feature, our provisioning nodes use some repositories from the jumpbox but is not updated, so we can talk about that later to address it.",
      "parentUuid": "675c5d75_f00dca21",
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69e0134b_3ae5b3c0",
        "filename": "samples/control_nodes_setup/setup_provisioner_tasks.yml",
        "patchSetId": 22
      },
      "lineNbr": 241,
      "author": {
        "id": 821
      },
      "writtenOn": "2022-01-26T23:41:26Z",
      "side": 1,
      "message": "I think is should be : provisioning",
      "range": {
        "startLine": 241,
        "startChar": 5,
        "endLine": 241,
        "endChar": 15
      },
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "765842c3_4736094d",
        "filename": "samples/control_nodes_setup/setup_provisioner_tasks.yml",
        "patchSetId": 22
      },
      "lineNbr": 241,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-01-28T14:38:35Z",
      "side": 1,
      "message": "you\u0027re right! Good catch.",
      "parentUuid": "69e0134b_3ae5b3c0",
      "range": {
        "startLine": 241,
        "startChar": 5,
        "endLine": 241,
        "endChar": 15
      },
      "revId": "033795d6cb77688a3b4ce019bacddf20f60531df",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}