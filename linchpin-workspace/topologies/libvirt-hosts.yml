---
topology_name: ocp-edge
resource_groups:
  - resource_group_name: ocp-edge-master
    resource_group_type: libvirt
    resource_definitions:
      - role: libvirt_node
        name: master
        uri: qemu:///system
        count: {{ master_count }}
        image_src: https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud.qcow2
        cpu_mode: host-passthrough
        memory: {{ master_memory }}
        vcpus: {{ master_vcpus }}
        arch: x86_64
        ssh_key: id_rsa
        additional_storage: 42G
        disk_type: virtio_scsi
        name_separator: '-'
        cloud_config:
          users:
            - name: {{ provisionhost_user }}
              gecos: Admin User
              groups: wheel
              sudo: ALL=(ALL) NOPASSWD:ALL
              lock_passwd: false
        networks:
          - name: baremetal
          - name: provisioning
            dhcp: false
  - resource_group_name: ocp-edge-worker
    resource_group_type: libvirt
    resource_definitions:
      - role: libvirt_node
        name: worker
        uri: qemu:///system
        count: {{ worker_count }} # If this results in count <= 0, I am quite sure linchpin up will fail
        memory: {{ worker_memory }}
        vcpus: {{ worker_vcpus }}
        image_src: https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud.qcow2
        cpu_mode: host-passthrough
        arch: x86_64
        ssh_key: id_rsa
        additional_storage: 42G
        disk_type: virtio_scsi
        name_separator: '-'
        cloud_config:
          users:
            - name: {{ provisionhost_user }}
              gecos: Admin User
              groups: wheel
              sudo: ALL=(ALL) NOPASSWD:ALL
              lock_passwd: false
        networks:
          - name: baremetal
          - name: provisioning
            dhcp: false
