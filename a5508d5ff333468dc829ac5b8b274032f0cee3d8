{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "66ccba37_5023cb77",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-03-23T15:52:09Z",
      "side": 1,
      "message": "recheck",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e7cb5b5_83363c0a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-03-23T15:56:24Z",
      "side": 1,
      "message": "recheck",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "57c7ca2d_e5453d81",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-03-23T15:57:43Z",
      "side": 1,
      "message": "recheck",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "08bf89b1_ea391edc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T20:24:42Z",
      "side": 1,
      "message": "recheck",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e29fc8bf_73c07173",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T21:36:05Z",
      "side": 1,
      "message": "Hello Nacho, thanks for all the work here. \n\nI have some minor comments/recommendations. \n\nIMO, these set of playbooks can be considered as a single artifact with not dependencies and relations on the agent. I think that we could ship this in an utils/bootstrapping/ directory. The plays may be run only one time during the environment bootstrapping so no need to make it look like a hook.\n\nWe can mention in the Agent\u0027s readme about these helper artifact that will make easier the initial configuration.\n\nwdyt?\n\nCheers!\n\n ",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7fb366d3_54a40468",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-03-23T21:48:58Z",
      "side": 1,
      "message": "recheck",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "163d31fa_d5ae0224",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-03-24T08:56:53Z",
      "side": 1,
      "message": "recheck",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "78193435_ba76672f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-03-24T10:57:48Z",
      "side": 1,
      "message": "recheck",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a7adb55_53f81ae9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-03-24T12:04:08Z",
      "side": 1,
      "message": "recheck",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6cbc6874_0cc4f043",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-03-30T11:01:56Z",
      "side": 1,
      "message": "Hi Beto,\n\nYou\u0027re absolutely right on this, but I had a good reason to deploy this as a hook, and it is that this way you can include the code in a pipeline and have the results published in the DCI dashboard:\n\nhttps://www.distributed-ci.io/jobs/a74e3d91-893a-4efb-99c1-48eaba2417bd/jobStates\n\nIf you think the added complexity on this solution is not worth it, I\u0027d like your opinion and we could refactor it to make it simpler.",
      "parentUuid": "e29fc8bf_73c07173",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c4f1497_f608a57b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-30T17:52:16Z",
      "side": 1,
      "message": "Thanks for the clarification Ramón. My opinion is just that, I do not think that a task that may be needed to run just during the environment bootstrapping should be added as a part of the pipeline. But that is only my point of view. Let\u0027s see what the team thinks.\n\nRegards",
      "parentUuid": "6cbc6874_0cc4f043",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcdd8f81_8df61503",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2022-03-31T06:49:35Z",
      "side": 1,
      "message": "Ramón is here, hehe.\n\nThe question that Beto has opened is interesting and maybe it is worth to have a team discussion about this, in order to define an agreed solution for this. It seems to be useful to have the results published on DCI in order to check it, but for example, libvirt_up/down playbooks are Ansible tasks that are not reported on DCI and, however, they are executed each time we make use of dci-check-change, and it\u0027s not a problem. Maybe it\u0027s worth to rethink what Beto said because it may be true that it\u0027s better to uncouple this kind of task from the agent itself.",
      "parentUuid": "9c4f1497_f608a57b",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7845115b_8b82f105",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-03-31T07:27:44Z",
      "side": 1,
      "message": "Actually, let me elaborate a little bit on this.\n\nTo start with, the playbooks are not intended to run as hooks on production environments. A regular workflow would entail running first the setup_jumpbox.yml playbook and then the setup_provisioner.yml playbook.\n\nSo, initially, only these two playbooks would have been needed.\n\nNow, we worked under the requirement that the provisioning would be tested periodically, following the DCI workflows. So, the only way to have the tasks tested in a DCI workflow we needed to create hooks that would be reference in a pipeline, as the one we created in https://github.com/dci-labs/dallas-pipelines/pull/177.\n\nIn order to have the testing hook including the tasks in the playbook we had to split each playbook in two files: the playbook itself (setup_jumpbox.yml, setup_provisioner.yml) and a tasks file (setup_jumpbox_tasks.yml, setup_provisioner_tasks.yml) that could be imported by both, the playbook and the hook.\n\nWith all this, I only intend to clarify that the usual operation of this feature should be as standalone playbooks, and the hook is only there for testing purposes.\n\nThe moment we agree that having the feature tested periodically and published in the dci dashboard is not needed, we can simplify the size of this PR by more than 50%.",
      "parentUuid": "bcdd8f81_8df61503",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89830d79_4a295064",
        "filename": "docs/control_nodes_setup.md",
        "patchSetId": 25
      },
      "lineNbr": 7,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T21:36:05Z",
      "side": 1,
      "message": "\"the 2 nodes provisioning\"",
      "range": {
        "startLine": 7,
        "startChar": 105,
        "endLine": 7,
        "endChar": 132
      },
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07b2671b_59552184",
        "filename": "docs/control_nodes_setup.md",
        "patchSetId": 25
      },
      "lineNbr": 15,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T21:36:05Z",
      "side": 1,
      "message": "\"credential can be provided via inventory or during the ansible-playbook run.\"",
      "range": {
        "startLine": 15,
        "startChar": 87,
        "endLine": 15,
        "endChar": 120
      },
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e95b4386_bd2436cd",
        "filename": "docs/control_nodes_setup.md",
        "patchSetId": 25
      },
      "lineNbr": 19,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T21:36:05Z",
      "side": 1,
      "message": "\"providing\"",
      "range": {
        "startLine": 19,
        "startChar": 34,
        "endLine": 19,
        "endChar": 41
      },
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68dea1a6_3444c4f9",
        "filename": "docs/control_nodes_setup.md",
        "patchSetId": 25
      },
      "lineNbr": 19,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T21:36:05Z",
      "side": 1,
      "message": "missing \")\"",
      "range": {
        "startLine": 19,
        "startChar": 191,
        "endLine": 19,
        "endChar": 192
      },
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7d09b34_02c4b4f0",
        "filename": "docs/control_nodes_setup.md",
        "patchSetId": 25
      },
      "lineNbr": 76,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T21:36:05Z",
      "side": 1,
      "message": "trailing space",
      "range": {
        "startLine": 76,
        "startChar": 258,
        "endLine": 76,
        "endChar": 259
      },
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b3d30e5_979463a2",
        "filename": "samples/control_nodes_setup/setup_jumpbox_tasks.yml",
        "patchSetId": 25
      },
      "lineNbr": 20,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T21:36:05Z",
      "side": 1,
      "message": "missed comments",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 20,
        "endChar": 48
      },
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb9eceda_74df6eb1",
        "filename": "samples/control_nodes_setup/setup_jumpbox_tasks.yml",
        "patchSetId": 25
      },
      "lineNbr": 68,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T21:36:05Z",
      "side": 1,
      "message": "Maybe add a ToDo note? or why is commented?",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f16d615_a0dcb364",
        "filename": "samples/control_nodes_setup/setup_jumpbox_tasks.yml",
        "patchSetId": 25
      },
      "lineNbr": 113,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T21:36:05Z",
      "side": 1,
      "message": "missing comments?",
      "range": {
        "startLine": 111,
        "startChar": 0,
        "endLine": 113,
        "endChar": 30
      },
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c4ae62c_4ddef2f8",
        "filename": "samples/roles/dnsmasq/templates/.general.conf.swp",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-23T21:36:05Z",
      "side": 1,
      "message": "not needed",
      "revId": "a5508d5ff333468dc829ac5b8b274032f0cee3d8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}