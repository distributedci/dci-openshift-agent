{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3e0472c2_ea6ce418",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 21,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-02-13T20:04:41Z",
      "side": 1,
      "message": "There\u0027s no need to add these type of comments in the commit msg, they belong into gerrit/github instead",
      "revId": "b1e7082a405888edfe34138381c02e68483bcd41",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b75aafa_8b7fb6d8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 22,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-02-13T20:04:41Z",
      "side": 1,
      "message": "If you have corrections between iterations, there\u0027s no need to add them in here either, they also belong in gerrit/github history",
      "revId": "b1e7082a405888edfe34138381c02e68483bcd41",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b666633_c31d993a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 29,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-02-13T20:04:41Z",
      "side": 1,
      "message": "This is not needed, you have the right dependency already in the referenced PR",
      "revId": "b1e7082a405888edfe34138381c02e68483bcd41",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd8b0cc0_770f1c0f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-02-13T20:04:41Z",
      "side": 1,
      "message": "Thanks Nacho, let\u0027s make sure this is tested in connected, disconnected and upgrades. ",
      "revId": "b1e7082a405888edfe34138381c02e68483bcd41",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05f8bff7_226bf787",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2023-02-13T23:42:02Z",
      "side": 1,
      "message": "Hello Nacho, I have been doing some testing regarding this.\n\nI think that during the upgrade, we should be doing something similar to what you are proposing on the installation. That is, use the subscription information as a source of truth to get the target CSV.\n\nOLM is the expert in calculating the upgrade paths, and in some cases that require using a different catalog source. If we do not want that behavior it would be better not to have catalogs available that will introduce some noise or unexpected upgrade paths. Our test environment should be \"controlled\".\n\nIf there is an upgrade available, OLM will calculate the target CSV and that will be available in the details of the sub: \n\n\n- An update to a new channel makes available a new upgrade. As the subs is set to manual, we can see the difference between the current and installed CSV, also the state indicates that there is an upgrade pending:\n\n$ oc describe subs -n open-cluster-management advanced-cluster-management |egrep \u0027Installed CSV|Current CSV|State:\u0027\n  Current CSV:              advanced-cluster-management.v2.7.0\n  Installed CSV:       advanced-cluster-management.v2.6.3\n  State:          UpgradePending\n\n\n- Once the IP is approved:\n$ oc describe subs -n open-cluster-management advanced-cluster-management |egrep \u0027Installed CSV|Current CSV|State:\u0027\n  Current CSV:              advanced-cluster-management.v2.7.0\n  Installed CSV:       advanced-cluster-management.v2.7.0\n  State:          AtLatestKnown\n\nThe current and installed CSVs match. The CSV should be marked as successful.\n\nI think we can use that information to monitor the CSV until it has been fully upgraded. \n\n\nPlease let me know if you have any questions or want me to work on the implementation. \n\nCheers\n",
      "revId": "b1e7082a405888edfe34138381c02e68483bcd41",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b910192_d9a9fe4e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-02-15T19:34:45Z",
      "side": 1,
      "message": "See my comment in the install\n\nPlease mark as done those comments that have been addressed, I\u0027ve marked some in here.",
      "parentUuid": "05f8bff7_226bf787",
      "revId": "b1e7082a405888edfe34138381c02e68483bcd41",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e56120b_2f96f21c",
        "filename": "common-roles/olm-operator/tasks/main.yml",
        "patchSetId": 8
      },
      "lineNbr": 112,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-02-13T20:04:41Z",
      "side": 1,
      "message": "What would you like to see in such cases?\n\nIn cases where there are multiple packages provided by different catalogs, let\u0027s use the catalog provided to make that distinction, the catalog can be filtered by label, e.g. \n\n     label_selectors:\n       - \"catalog \u003d {{ source }}\"\n\nwdyt?",
      "revId": "b1e7082a405888edfe34138381c02e68483bcd41",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28305b84_87ed2d84",
        "filename": "common-roles/olm-operator/tasks/main.yml",
        "patchSetId": 8
      },
      "lineNbr": 112,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-02-15T19:34:45Z",
      "side": 1,
      "message": "I think you still need to use the catalog in the packagemanifest, otherwise when you have multiple catalogs offering the same package to *install*, the desired_channel won\u0027t be possible to calculate",
      "parentUuid": "0e56120b_2f96f21c",
      "revId": "b1e7082a405888edfe34138381c02e68483bcd41",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5b4cea5_a57dd2d4",
        "filename": "common-roles/olm-operator/tasks/main.yml",
        "patchSetId": 8
      },
      "lineNbr": 116,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-02-13T20:04:41Z",
      "side": 1,
      "message": "Please remove these commented tasks if the ones above are replacing them, if this is a wip change you can set it in the UI above",
      "revId": "b1e7082a405888edfe34138381c02e68483bcd41",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "15987362_e6c58341",
        "filename": "common-roles/olm-operator/tasks/main.yml",
        "patchSetId": 8
      },
      "lineNbr": 116,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-02-15T19:34:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d5b4cea5_a57dd2d4",
      "revId": "b1e7082a405888edfe34138381c02e68483bcd41",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}