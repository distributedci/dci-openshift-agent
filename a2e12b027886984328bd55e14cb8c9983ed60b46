{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c9a62c0a_89cb562d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-12T09:21:58Z",
      "side": 1,
      "message": "From my side, I\u0027m fine with your feedback Jorge. I\u0027ll vote +1 because I\u0027d like also to have other eyes in this change, to confirm I\u0027m not missing something. Thanks for your work!",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57ded726_dc8d2395",
        "filename": "samples/abi_on_libvirt/templates/hosts.j2",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-10T10:55:45Z",
      "side": 1,
      "message": "Before, default value was true and we were always using http_store in our jobs. Is the reason of disabling it by default that it\u0027s only needed in disconnected? If that\u0027s true, don\u0027t know if this is documented in the ABI docs, that should be checked.",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd2d6fcd_6042e55c",
        "filename": "samples/abi_on_libvirt/templates/hosts.j2",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 648
      },
      "writtenOn": "2025-03-10T15:22:13Z",
      "side": 1,
      "message": "Before ABI replaced AI-onprem as the default, we still needed an HTTP server to serve the install.iso to the nodes, but ABI does it by itself. So yeah right now it is only really needed for disconnected environments but not necessarily to serve the install.iso",
      "parentUuid": "57ded726_dc8d2395",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "42290af8_353c8584",
        "filename": "samples/abi_on_libvirt/templates/hosts.j2",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-11T10:41:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bd2d6fcd_6042e55c",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "965d0174_a32a5577",
        "filename": "samples/abi_on_libvirt/templates/hosts.j2",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-10T10:55:45Z",
      "side": 1,
      "message": "I\u0027m not sure that we should put these two vars here. The play to provision the VMs is unrelated to the inventory that we call later on the ABI installation with DCI.",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 12,
        "endChar": 84
      },
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abf69252_ad31d0a0",
        "filename": "samples/abi_on_libvirt/templates/hosts.j2",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 648
      },
      "writtenOn": "2025-03-10T15:22:13Z",
      "side": 1,
      "message": "These two vars are used in the attached infrastructure.yml playbook.\nThe samples in the samples directory should be focused on the end user and you can see the sample inventory does create a VM-base inventory, the fact that we abuse the assets in this directory for CI is a different issue altogether.\nSetting up conserver is just a different thing we optionally do, but it\u0027s really useful and we should push it by default",
      "parentUuid": "965d0174_a32a5577",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 12,
        "endChar": 84
      },
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ad5f0e4_92180355",
        "filename": "samples/abi_on_libvirt/templates/hosts.j2",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-11T10:41:21Z",
      "side": 1,
      "message": "What I still don\u0027t get is the following: what\u0027s the host file that is used to launch the infrastructure.yml playbook? Because, from what I understand, it\u0027s not this hosts file; this hosts file, firstly, it\u0027s a template to generate a new hosts file, which would eventually be used to deploy the OCP installation, but not the infrastructure.\nSo, if that\u0027s true, `setup_vms` and `setup_conserver` would only be used to create the infrastructure, but they\u0027re not used during the OCP installation.\nThat\u0027s why I\u0027m saying that I\u0027m not sure if these two vars should be placed here. But if you can correct me if I\u0027m wrong, just to understand the full picture, it would be great.",
      "parentUuid": "abf69252_ad31d0a0",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 12,
        "endChar": 84
      },
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af2c9f23_73aeb4b7",
        "filename": "samples/abi_on_libvirt/templates/hosts.j2",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 648
      },
      "writtenOn": "2025-03-11T15:23:30Z",
      "side": 1,
      "message": "You use the same (generated) hosts file for both infrastructure and the main playbook, in fact the infrastructure playbook needs to know e.g. domain, number and size of KVM nodes, etc.",
      "parentUuid": "5ad5f0e4_92180355",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 12,
        "endChar": 84
      },
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "646b3d13_59eb1053",
        "filename": "samples/abi_on_libvirt/templates/hosts.j2",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-12T09:21:58Z",
      "side": 1,
      "message": "Okey, got it now, thanks. I was understanding this wrongly, now I can see the point. Thanks!",
      "parentUuid": "af2c9f23_73aeb4b7",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 12,
        "endChar": 84
      },
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "334ded11_6fee1546",
        "filename": "samples/configure.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-10T10:55:45Z",
      "side": 1,
      "message": "Is this tested?",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ae12182_b4f11a58",
        "filename": "samples/configure.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2025-03-10T15:22:13Z",
      "side": 1,
      "message": "yes, I have tested this heavily on my end on a fresh install of RHEL 8. The purpose of this playbook would be to set up a bare-bones jumpbox with dci-openshift-agent, you may even do it from your laptop. I will add some docs to the playbook itself",
      "parentUuid": "334ded11_6fee1546",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7ed702d2_dc20b2e1",
        "filename": "samples/configure.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-11T10:41:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5ae12182_b4f11a58",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98fa6521_58e9b28a",
        "filename": "samples/infrastructure.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-10T10:55:45Z",
      "side": 1,
      "message": "We need to test that this file works. Right now, it\u0027s used in our BOS2 automation to provision ABI VMs: https://github.com/dci-labs/bos2-ci-config/blob/main/files/provision-abi-vms.yml, so that file needs to be updated with this content and check it.",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4673adc0_a5de005a",
        "filename": "samples/infrastructure.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2025-03-10T15:22:13Z",
      "side": 1,
      "message": "This file also works at least on a VM-based lab, I have been testing it as a second step after configure.yml. You can reflect the new content on provision-abi-vms.yml but again, end-user samples and CI should be treated by separate",
      "parentUuid": "98fa6521_58e9b28a",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73427493_4c311662",
        "filename": "samples/infrastructure.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-11T10:41:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4673adc0_a5de005a",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d23cc530_53e82fb8",
        "filename": "samples/roles/local-registry/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-10T10:55:45Z",
      "side": 1,
      "message": "Is it worth to move this local-registry role to the collections?",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc4e4cca_7bb9a5dd",
        "filename": "samples/roles/local-registry/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2025-03-10T15:22:13Z",
      "side": 1,
      "message": "no, there\u0027s already a role that sets up a container registry in the collections",
      "parentUuid": "d23cc530_53e82fb8",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "42f77a07_69d3be6e",
        "filename": "samples/roles/local-registry/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-11T10:41:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "cc4e4cca_7bb9a5dd",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "969f2cd6_6933ac53",
        "filename": "samples/roles/reposync/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-10T10:55:45Z",
      "side": 1,
      "message": "Is it worth to move this reposync role to the collections?",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d986c8dc_b515d047",
        "filename": "samples/roles/reposync/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2025-03-10T15:22:13Z",
      "side": 1,
      "message": "perhaps, this was used back when we supported centos, not sure if it\u0027s worth it now, there are other more redhat-y ways to do this e.g. satellite",
      "parentUuid": "969f2cd6_6933ac53",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "acbb52e5_e258f011",
        "filename": "samples/roles/reposync/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2025-03-11T10:41:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d986c8dc_b515d047",
      "revId": "a2e12b027886984328bd55e14cb8c9983ed60b46",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}