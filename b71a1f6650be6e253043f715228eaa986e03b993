{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c40f3670_9ea6840b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 23
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2023-09-05T01:29:41Z",
      "side": 1,
      "message": "I found that at the end disconnected_registry_auths_file is merged with the other pull secrets during the node-prep so all the credentials are passed to the cluster.\n\n\nThen I tried to pass an empty disconnected_registry_auths_file, but the baremetal-metal roles use the inventory file variable. So, the current change won\u0027t work without changing the baremetal-deploy roles. \n\nhttps://github.com/openshift-kni/baremetal-deploy/blob/ac4c196bf4c77ccb3508c0199f31121052c66a68/ansible-ipi-install/roles/node-prep/tasks/15_validation_disconnected_registry.yml#L3C1-L17C22\nhttps://github.com/openshift-kni/baremetal-deploy/blob/ac4c196bf4c77ccb3508c0199f31121052c66a68/ansible-ipi-install/roles/node-prep/tasks/15_validation_disconnected_registry.yml#L55-L65\n\nWill check with the team, we may need to merge this change as it was in patched 18 and create a new change to fix the baremetal-deploy.",
      "revId": "b71a1f6650be6e253043f715228eaa986e03b993",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}