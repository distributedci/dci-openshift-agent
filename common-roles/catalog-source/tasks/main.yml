---
- name: Assert required fields exist
  assert:
    that:
      - cs_name | string
      - cs_namespace | string
      - cs_image | string

- name: Create marketplace CatalogSource
  community.kubernetes.k8s:
    definition:
      apiVersion: operators.coreos.com/v1alpha1
      kind: CatalogSource
      metadata:
        name: "{{ cs_name }}"
        namespace: "{{ cs_namespace }}"
      spec:
        displayName: "{{ cs_name }}"
        image: "{{ cs_image }}"
        publisher: "{{ cs_publisher }}"
        sourceType: "{{ cs_type }}"
...
