{
  "comments": [
    {
      "key": {
        "uuid": "f8f3733a_42011fdf",
        "filename": "plays/upgrade.yml",
        "patchSetId": 19
      },
      "lineNbr": 89,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T05:45:19Z",
      "side": 1,
      "message": "I\u0027m not sure if the changes in this task are part of the disconnected reorg, as I don\u0027t see related vars in here, or if they were included by mistake?",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9441ca5_9ad034dd",
        "filename": "plays/upgrade.yml",
        "patchSetId": 19
      },
      "lineNbr": 89,
      "author": {
        "id": 648
      },
      "writtenOn": "2021-08-03T21:44:22Z",
      "side": 1,
      "message": "This was an edge case on the upgrade monitoring, Nacho is working on revamping this so I bet this will be obsolete real soon anyway",
      "parentUuid": "f8f3733a_42011fdf",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4374888_3c700c7d",
        "filename": "plays/upgrade.yml",
        "patchSetId": 19
      },
      "lineNbr": 89,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T21:57:59Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d9441ca5_9ad034dd",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aed4663b_3eb8f8f5",
        "filename": "roles/mirror-ocp-release/tasks/dirs.yml",
        "patchSetId": 19
      },
      "lineNbr": 6,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T05:45:19Z",
      "side": 1,
      "message": "These two tasks are changing the ownership of what we currently have in dallas. I see the job where this was tested set the ownership to `dciteam:` instead `dci-openshift-agent` what the other dirs have.\nThis could explain the failure we had a few weeks back as `dci-openshift-agent` was unable to write inside /opt/cache.\nNot saying this is wrong, but I think we need to figure out what\u0027s the right user that should be creationg those directories ðŸ˜„",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f418e2a6_45af69d9",
        "filename": "roles/mirror-ocp-release/tasks/dirs.yml",
        "patchSetId": 19
      },
      "lineNbr": 6,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T21:57:59Z",
      "side": 1,
      "message": "We found the reason, as fetch-bits.yaml was in a big block with delegate_to registry, which is not OK.\nFor now we will see that any file running through dci-pipeline will own the files created locally, a new card will be created to try to consolidate the user running to be dci-openshift-agent.",
      "parentUuid": "aed4663b_3eb8f8f5",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9c8861b_d7e536b2",
        "filename": "roles/mirror-ocp-release/tasks/fetch.yml",
        "patchSetId": 19
      },
      "lineNbr": 41,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T05:45:19Z",
      "side": 1,
      "message": "Not sure if the previous way to get release_version and release_image had a disadvantage compared to using shell, my first impression is to prefer the old way, but I may be missing something.",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73db9bdd_93243349",
        "filename": "roles/mirror-ocp-release/tasks/fetch.yml",
        "patchSetId": 19
      },
      "lineNbr": 41,
      "author": {
        "id": 648
      },
      "writtenOn": "2021-08-03T21:44:22Z",
      "side": 1,
      "message": "talked this out on a video call, using a registered variable instead of a fact so not to pollute the facts, it is my feeling we abuse set_fact sometimes",
      "parentUuid": "f9c8861b_d7e536b2",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4c75a62_76b19eed",
        "filename": "roles/mirror-ocp-release/tasks/fetch.yml",
        "patchSetId": 19
      },
      "lineNbr": 64,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T05:45:19Z",
      "side": 1,
      "message": "I found really strange that files like signature.bin, release.txt among others, have ownership of `dci-openshift-agent` (this is, IMO, the expected) but the creation of the dirs (see my comment in dirs.yaml) and graph-4.7, among some others belong to `dciteam`.",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "589963ca_5debc8e9",
        "filename": "roles/mirror-ocp-release/tasks/fetch.yml",
        "patchSetId": 19
      },
      "lineNbr": 64,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T21:57:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4c75a62_76b19eed",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04b8298f_a7098373",
        "filename": "roles/mirror-ocp-release/tasks/fetch.yml",
        "patchSetId": 19
      },
      "lineNbr": 95,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T05:45:19Z",
      "side": 1,
      "message": "I\u0027m OK having fetch and untar for two set of client_tools, in that case extract-tools.yml can be deleted OR it could be modified to perform the best practices you followed here and just send the appropriate client_tools depending on the version.",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e1eccf8_992622c9",
        "filename": "roles/mirror-ocp-release/tasks/fetch.yml",
        "patchSetId": 19
      },
      "lineNbr": 95,
      "author": {
        "id": 648
      },
      "writtenOn": "2021-08-03T21:44:22Z",
      "side": 1,
      "message": "yep thanks for pointing this out, removing extract-tools.yml which I\u0027d forgotten about ðŸ˜‹",
      "parentUuid": "04b8298f_a7098373",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f5de736e_87abfd31",
        "filename": "roles/mirror-ocp-release/tasks/fetch.yml",
        "patchSetId": 19
      },
      "lineNbr": 165,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T05:45:19Z",
      "side": 1,
      "message": "I think is needed, but not sure the context you ask the question.\nI wonder if it could cause issues when running two jobs at the same time and having HEAD at a different commit?",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42db9182_c595ddcb",
        "filename": "roles/mirror-ocp-release/tasks/fetch.yml",
        "patchSetId": 19
      },
      "lineNbr": 165,
      "author": {
        "id": 648
      },
      "writtenOn": "2021-08-03T21:44:22Z",
      "side": 1,
      "message": "I\u0027d tested this out previously by just *not* cloning the repo and kicking off an install, it didn\u0027t break with my use case but I am not ready to scrap it altogether just in case we have a different code flow I didn\u0027t see.",
      "parentUuid": "f5de736e_87abfd31",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "183f2849_08c0ecbd",
        "filename": "roles/mirror-ocp-release/tasks/files.yml",
        "patchSetId": 19
      },
      "lineNbr": 1,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T05:45:19Z",
      "side": 1,
      "message": "It\u0027s so strange that all the files in here were created under `dciteam:` but some of the ones created under fetch.yml belonged to `dci-openshift-agent`, both are using the same owner and group",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2f39039_410c33b0",
        "filename": "roles/mirror-ocp-release/tasks/files.yml",
        "patchSetId": 19
      },
      "lineNbr": 1,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T21:57:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "183f2849_08c0ecbd",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96d55981_377fa0a4",
        "filename": "roles/mirror-ocp-release/tasks/installer.yml",
        "patchSetId": 19
      },
      "lineNbr": 8,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T05:45:19Z",
      "side": 1,
      "message": "While is not bad to be specific, I don\u0027t think it\u0027s required in here or is it? I tend to see it inside other loops so you can have better control of the loop in place, but I don\u0027t think this is inside any other loop.",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f273de6_c3512250",
        "filename": "roles/mirror-ocp-release/tasks/installer.yml",
        "patchSetId": 19
      },
      "lineNbr": 8,
      "author": {
        "id": 648
      },
      "writtenOn": "2021-08-03T21:44:22Z",
      "side": 1,
      "message": "yep this was leftover, meant to be done in the next tasks, removed",
      "parentUuid": "96d55981_377fa0a4",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "41579a53_a16b8a94",
        "filename": "roles/mirror-ocp-release/tasks/installer.yml",
        "patchSetId": 19
      },
      "lineNbr": 13,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T05:45:19Z",
      "side": 1,
      "message": "I think `{{ cache_dir }}/{{ version }} may not be needed in all the references in here since you chdir to that dir already",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ea359a9_27ae361e",
        "filename": "roles/mirror-ocp-release/tasks/installer.yml",
        "patchSetId": 19
      },
      "lineNbr": 13,
      "author": {
        "id": 648
      },
      "writtenOn": "2021-08-03T21:44:22Z",
      "side": 1,
      "message": "discussed in a call, seems like chdir is not needed in this case, removed",
      "parentUuid": "41579a53_a16b8a94",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "edf8b1dc_d8ae1cd5",
        "filename": "roles/mirror-ocp-release/tasks/installer.yml",
        "patchSetId": 19
      },
      "lineNbr": 24,
      "author": {
        "id": 667
      },
      "writtenOn": "2021-08-03T05:45:19Z",
      "side": 1,
      "message": "Don\u0027t you need to define loop_var in each task where you won\u0027t be using the default item? I see you set it above in line 8, but not anymore in this and the following task",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb81d62e_17630a52",
        "filename": "roles/mirror-ocp-release/tasks/installer.yml",
        "patchSetId": 19
      },
      "lineNbr": 24,
      "author": {
        "id": 648
      },
      "writtenOn": "2021-08-03T21:44:22Z",
      "side": 1,
      "message": "yeah good catch, added",
      "parentUuid": "edf8b1dc_d8ae1cd5",
      "revId": "6048362627a720722ccb0bfadd6595fb6d8a458b",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    }
  ]
}