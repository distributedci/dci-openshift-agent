{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d60531e5_43decf19",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-08-16T20:13:44Z",
      "side": 1,
      "message": "Tested in server03, disks are available in worker nodes:\n\n[dci-openshift-agent@server01 ~]$ for i in $(seq 1 6); do ssh -q -i .ssh/server03-provisioner_rsa core@192.168.16.3$i \"hostname; lsblk\"  ; done\n$ for i in $(seq 1 6); do ssh -q -i .ssh/server03-provisioner_rsa core@192.168.16.3$i \"hostname; lsblk |grep sdb\"  ; done\nmaster-0\nmaster-1\nmaster-2\nworker-0\nsdb      8:16   0  150G  0 disk \nworker-1\nsdb      8:16   0  150G  0 disk \nworker-2\nsdb      8:16   0  150G  0 disk \n\nManually deployed OCP without issues.\n\n\nRelevant parts of the play:\n\nTASK [ocp-on-libvirt : Create an additional disk] ***************************************************************************************************************************************\nTuesday 16 August 2022  14:52:12 -0400 (0:00:01.133)       0:10:29.269 ******** \nchanged: [server03.partnerci.bos2.lab] \u003d\u003e {\"changed\": true, \"cmd\": [\"qemu-img\", \"create\", \"-f\", \"qcow2\", \"/var/lib/libvirt/images/worker-2-disk2.qcow2\", \"150G\"], \"delta\": \"0:00:00.006798\", \"end\": \"2022-08-16 14:52:12.394568\", \"rc\": 0, \"start\": \"2022-08-16 14:52:12.387770\", \"stderr\": \"\", \"stderr_lines\": [], \"stdout\": \"Formatting \u0027/var/lib/libvirt/images/worker-2-disk2.qcow2\u0027, fmt\u003dqcow2 cluster_size\u003d65536 extended_l2\u003doff compression_type\u003dzlib size\u003d161061273600 lazy_refcounts\u003doff refcount_bits\u003d16\", \"stdout_lines\": [\"Formatting \u0027/var/lib/libvirt/images/worker-2-disk2.qcow2\u0027, fmt\u003dqcow2 cluster_size\u003d65536 extended_l2\u003doff compression_type\u003dzlib size\u003d161061273600 lazy_refcounts\u003doff refcount_bits\u003d16\"]}\n\nTASK [ocp-on-libvirt : Create directories] **********************************************************************************************************************************************\nTuesday 16 August 2022  14:52:12 -0400 (0:00:00.388)       0:10:29.658 ******** \nchanged: [server03.partnerci.bos2.lab] \u003d\u003e {\"changed\": true, \"gid\": 1000, \"group\": \"dci\", \"mode\": \"0775\", \"owner\": \"dci\", \"path\": \"/tmp/vm-worker-2\", \"secontext\": \"unconfined_u:object_r:user_tmp_t:s0\", \"size\": 6, \"state\": \"directory\", \"uid\": 1000}\n\nTASK [ocp-on-libvirt : Prepare cloud-config/user-data-local] ****************************************************************************************************************************\nTuesday 16 August 2022  14:52:12 -0400 (0:00:00.382)       0:10:30.041 ******** \nchanged: [server03.partnerci.bos2.lab] \u003d\u003e {\"changed\": true, \"checksum\": \"cf525d813a3c8676298120fa30ac9d9acf79400c\", \"dest\": \"/tmp/vm-worker-2/user-data\", \"gid\": 1000, \"group\": \"dci\", \"md5sum\": \"5578e50f325a0735587b4b693c3b2c82\", \"mode\": \"0664\", \"owner\": \"dci\", \"secontext\": \"unconfined_u:object_r:user_home_t:s0\", \"size\": 1157, \"src\": \"/home/dci/.ansible/tmp/ansible-tmp-1660675932.8834753-189373-279952453167569/source\", \"state\": \"file\", \"uid\": 1000}\n\nTASK [ocp-on-libvirt : Prepare cloud-config/meta-data] **********************************************************************************************************************************\nTuesday 16 August 2022  14:52:13 -0400 (0:00:00.731)       0:10:30.772 ******** \nchanged: [server03.partnerci.bos2.lab] \u003d\u003e {\"changed\": true, \"checksum\": \"d12985d14c46186df18309a4cfc027d6e91c064c\", \"dest\": \"/tmp/vm-worker-2/meta-data\", \"gid\": 1000, \"group\": \"dci\", \"md5sum\": \"e19d37a71337f99f55479f8dc6bbd812\", \"mode\": \"0664\", \"owner\": \"dci\", \"secontext\": \"unconfined_u:object_r:user_home_t:s0\", \"size\": 75, \"src\": \"/home/dci/.ansible/tmp/ansible-tmp-1660675933.6118908-189419-138457471311589/source\", \"state\": \"file\", \"uid\": 1000}\n\nTASK [ocp-on-libvirt : Generate ci data cd image for cloud-init when cloud config is defined] *******************************************************************************************\nTuesday 16 August 2022  14:52:14 -0400 (0:00:00.740)       0:10:31.513 ******** \nchanged: [server03.partnerci.bos2.lab] \u003d\u003e {\"changed\": true, \"cmd\": [\"mkisofs\", \"-o\", \"/tmp/vm-worker-2.iso\", \"-V\", \"cidata\", \"-r\", \"-J\", \"--quiet\", \"/tmp/vm-worker-2/user-data\", \"/tmp/vm-worker-2/meta-data\"], \"delta\": \"0:00:00.004150\", \"end\": \"2022-08-16 14:52:14.659470\", \"rc\": 0, \"start\": \"2022-08-16 14:52:14.655320\", \"stderr\": \"\", \"stderr_lines\": [], \"stdout\": \"\", \"stdout_lines\": []}\n\nTASK [ocp-on-libvirt : define node] *****************************************************************************************************************************************************\nTuesday 16 August 2022  14:52:14 -0400 (0:00:00.404)       0:10:31.918 ******** \nchanged: [server03.partnerci.bos2.lab] \u003d\u003e {\"changed\": true, \"created\": \"worker-2\"}\n\nTASK [ocp-on-libvirt : sync memory data to disk] ****************************************************************************************************************************************\nTuesday 16 August 2022  14:52:15 -0400 (0:00:00.525)       0:10:32.443 ******** \nchanged: [server03.partnerci.bos2.lab] \u003d\u003e {\"changed\": true, \"cmd\": [\"sync\"], \"delta\": \"0:00:00.004643\", \"end\": \"2022-08-16 14:52:15.548222\", \"rc\": 0, \"start\": \"2022-08-16 14:52:15.543579\", \"stderr\": \"\", \"stderr_lines\": [], \"stdout\": \"\", \"stdout_lines\": []}\n\nTASK [ocp-on-libvirt : Start VM] ********************************************************************************************************************************************************\nTuesday 16 August 2022  14:52:15 -0400 (0:00:00.361)       0:10:32.805 ******** \nchanged: [server03.partnerci.bos2.lab] \u003d\u003e {\"changed\": true, \"msg\": 0}\n\n",
      "revId": "c140916d45318e97416ff2aada899448e40645ec",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4ca1b7b7_de8b4800",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-08-16T20:21:29Z",
      "side": 1,
      "message": "Job used to test the ocp deployment https://www.distributed-ci.io/jobs/52f5d7e8-3cd1-42ef-b83d-7f1f5c7765c9/jobStates",
      "revId": "c140916d45318e97416ff2aada899448e40645ec",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f89ab0ea_c0849588",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 908
      },
      "writtenOn": "2022-08-16T20:26:23Z",
      "side": 1,
      "message": "Looks good to me!",
      "revId": "c140916d45318e97416ff2aada899448e40645ec",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b6e0bd47_3096f87d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-08-16T20:49:08Z",
      "side": 1,
      "message": "recheck",
      "revId": "c140916d45318e97416ff2aada899448e40645ec",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "83602b65_20872faa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 667
      },
      "writtenOn": "2022-08-16T20:51:53Z",
      "side": 1,
      "message": "LGTM, I\u0027ll do +2 after the test",
      "revId": "c140916d45318e97416ff2aada899448e40645ec",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b52fff44_a319c9f9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-08-16T21:19:30Z",
      "side": 1,
      "message": "recheck",
      "revId": "c140916d45318e97416ff2aada899448e40645ec",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ac7d4582_15aea57d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-08-16T22:38:57Z",
      "side": 1,
      "message": "The previous job run on server07, the new storage is present.\n\n[dci-openshift-agent@server01 ~]$ for i in $(seq 1 6); do ssh -q -i .ssh/server07-provisioner_rsa core@192.168.16.7$i \"hostname; lsblk |grep sdb\"  ; done\nmaster-0\nmaster-1\nmaster-2\nworker-0\nsdb      8:16   0  150G  0 disk \nworker-1\nsdb      8:16   0  150G  0 disk \nworker-2\nsdb      8:16   0  150G  0 disk",
      "revId": "c140916d45318e97416ff2aada899448e40645ec",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e792660d_a0e82ae7",
        "filename": "roles/ocp-on-libvirt/tasks/libvirt_host_up.yml",
        "patchSetId": 2
      },
      "lineNbr": 26,
      "author": {
        "id": 908
      },
      "writtenOn": "2022-08-16T20:26:23Z",
      "side": 1,
      "message": "Maybe in the future we can allow to do both in workers and masters",
      "revId": "c140916d45318e97416ff2aada899448e40645ec",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}