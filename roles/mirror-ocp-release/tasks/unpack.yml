---
- name: "Check if OpenShift client tools have been unpacked"
  stat:
    path: "{{ dir }}/oc"
    get_checksum: false
  register: unpacked
  when:
    - not force  # we don't care to stat files if we're forcing

- name: "Get client tools tarball"
  block:
    - name: "Unarchive client tarball"
      unarchive:
        src: "{{ dir }}/openshift-client-linux-{{ version }}.tar.gz"
        dest: "{{ dir }}"
        owner: "{{ owner }}"
        group: "{{ group }}"
        mode: "0755"
        remote_src: true
        exclude:
          - README.md

    - name: "Marker for doaa to avoid redownloaded"
      file:
        state: touch
        dest: "{{ dir }}/client_tools.done"
        owner: "{{ owner }}"
        group: "{{ group }}"
        mode: "0644"
  become: true
  when:
    - force or not unpacked.stat.exists

...
