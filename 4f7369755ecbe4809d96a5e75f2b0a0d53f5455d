{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "41951b27_fb615fed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-08-29T15:46:24Z",
      "side": 1,
      "message": "The first hurdle I see is that some authentications exist in a variable/fact and some are a file path. This role\u0027s input is a list of file paths. I think this needs to be a list of auth dictionaries, because we shouldn\u0027t write the auth file coming from the API anywhere, instead read the pull_secret_file into a variable.",
      "revId": "4f7369755ecbe4809d96a5e75f2b0a0d53f5455d",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bbb0a151_8e164c48",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2023-08-29T15:48:20Z",
      "side": 1,
      "message": "Or I don\u0027t know if you want this to be extra smart and process according to the type of input, if it\u0027s a dict then it\u0027s a variable, if it\u0027s a string then it is a path, up to you.",
      "parentUuid": "41951b27_fb615fed",
      "revId": "4f7369755ecbe4809d96a5e75f2b0a0d53f5455d",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1bd8d00d_27b189b8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 667
      },
      "writtenOn": "2023-08-29T17:56:21Z",
      "side": 1,
      "message": "I had a similar thought on the inputs, the caveat is that it could be:\n- A dictionary with auths (dci job)\n- A string (a single auth entry)\n- A string with a file path (provided pull secret file)\n\nwith the current implementation at least is clearly stated that the input must be auth files\n\nWhile I\u0027m not a fan of writing secrets into a file I think is a good trade-off to standardize the role. IMO, the use of single auth entry seems not a common use case.\n\nMy 2Â¢",
      "parentUuid": "bbb0a151_8e164c48",
      "revId": "4f7369755ecbe4809d96a5e75f2b0a0d53f5455d",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "703021ef_a7c579b7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 606
      },
      "writtenOn": "2023-08-29T18:42:32Z",
      "side": 1,
      "message": "I have the same feedback.  I think this should work with a list of dicts and return a combined dict back.   Use the lookup method to read the json in before calling this role if you have files.",
      "parentUuid": "1bd8d00d_27b189b8",
      "revId": "4f7369755ecbe4809d96a5e75f2b0a0d53f5455d",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd32c2fe_304fe76a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1440
      },
      "writtenOn": "2023-08-31T09:05:28Z",
      "side": 1,
      "message": "+1 with a list of dicts and return a combined dict",
      "parentUuid": "703021ef_a7c579b7",
      "revId": "4f7369755ecbe4809d96a5e75f2b0a0d53f5455d",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d817f826_f6f84d0b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2023-08-31T17:40:03Z",
      "side": 1,
      "message": "Thanks for the comments, I updated the role to work with dictionaries. \n\n\"because we shouldn\u0027t write the auth file coming from the API anywhere\" \u003e Unfortunately we must do it sometime as most of the tasks require it. But yeah, reducing the number of times we do that is good. \n\nCheers",
      "parentUuid": "703021ef_a7c579b7",
      "revId": "4f7369755ecbe4809d96a5e75f2b0a0d53f5455d",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2fd1ca0_e94a8707",
        "filename": "README.md",
        "patchSetId": 12
      },
      "lineNbr": 418,
      "author": {
        "id": 1440
      },
      "writtenOn": "2023-08-31T09:05:28Z",
      "side": 1,
      "message": "Any reason why we introduce a new variable?\npullsecret_file vs disconnected_registry_auths_file\n\nIt complexifies the doc IMO",
      "range": {
        "startLine": 418,
        "startChar": 2,
        "endLine": 418,
        "endChar": 106
      },
      "revId": "4f7369755ecbe4809d96a5e75f2b0a0d53f5455d",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25d15bee_af71171a",
        "filename": "README.md",
        "patchSetId": 12
      },
      "lineNbr": 418,
      "author": {
        "id": 724
      },
      "writtenOn": "2023-08-31T17:47:01Z",
      "side": 1,
      "message": "Guillaume, disconnected_registry_auths_file a requirement of the ipi-install role. It\u0027s just the auths entries that will be set to the cluster to talk with private registries. \n\nI\u0027m not sure at what time we started using pullsecret_file. But \"I think\" that it was because of the need to allow partners to add credentials for public registries not provided by DCI, e.g.: docker.io",
      "parentUuid": "a2fd1ca0_e94a8707",
      "range": {
        "startLine": 418,
        "startChar": 2,
        "endLine": 418,
        "endChar": 106
      },
      "revId": "4f7369755ecbe4809d96a5e75f2b0a0d53f5455d",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}