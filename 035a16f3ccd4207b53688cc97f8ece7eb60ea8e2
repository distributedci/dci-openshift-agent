{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b33438f9_f0c841cc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 667
      },
      "writtenOn": "2022-02-28T23:05:27Z",
      "side": 1,
      "message": "I think this is a quick way to avoid the issues we have seen with the must-gather tags in *dallas*.\n\nThis made me think of:\n- How far do we want to get by adding complexity to the agent when things are broken outside?\n- In a connected environment this would\u0027ve failed, so our fix is only targeted to disconnected environments, where the image has been already copied, what\u0027s the true value of the change?\n\nI don\u0027t want to disincentivize the change but IMO, if something is broken with the registry then we have to draw a line at some point.\n\nThoughts?",
      "revId": "035a16f3ccd4207b53688cc97f8ece7eb60ea8e2",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e0b78338_1baa3f53",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-01T00:07:25Z",
      "side": 1,
      "message": "yeah, agree. Maybe we can check a bit about this during the daily.",
      "parentUuid": "b33438f9_f0c841cc",
      "revId": "035a16f3ccd4207b53688cc97f8ece7eb60ea8e2",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9763f508_bc874d2f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-03-01T09:36:03Z",
      "side": 1,
      "message": "IMO, precisely because we don\u0027t have control on whether the public registry is broken it makes sense to have these safeguards.\nA different thing would be the correctness of the list of must-gather images that Manny mentions, which is something the user has control over.\nThis being said, I agree with Tony that in the end it\u0027s a matter of where we draw the line for the complexity we want to add to the agent, but also of whether we consider having the latest ose-must-gather image is mandatory or we can afford working with an older version. To me it\u0027s the later rather than the former.",
      "parentUuid": "e0b78338_1baa3f53",
      "revId": "035a16f3ccd4207b53688cc97f8ece7eb60ea8e2",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4cdc6d0f_1d2c6bf1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2022-03-01T13:07:01Z",
      "side": 1,
      "message": "I also agree that is good to add this kind of logic to avoid problems, but the complexity is higher by separating ose-must-gather from the rest of images, also if it is defined under dci_must_gather_images variable. I\u0027d like to propose some improvements:\n\n-Maybe I\u0027d force to define dci_must_gather_images and set it to [\u003cdci-ose-must-gather-image\u003e] as default, to avoid duplicated tasks.\n-Note that, with the current approach, the \"mirror additional must-gather\" would fail in case the mirroring cannot be done, as it does not have a rescue. Do we intend to also rescue them?\n-Note that dci_must_gather_images is also used in plays/get-logs.yml\n-Note that this same mirroring process is also done in d-o-a-a, so the changes is also needed there",
      "parentUuid": "9763f508_bc874d2f",
      "revId": "035a16f3ccd4207b53688cc97f8ece7eb60ea8e2",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3859f8be_aeff6768",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 724
      },
      "writtenOn": "2022-03-03T23:16:19Z",
      "side": 1,
      "message": "Thanks for the comments and ideas, it ended up been converted to a play that can be used to mirror a list of images, with retry and rescue if the image is aready cached. \n\nWill add this to the app-agent.\n\nRegards.",
      "parentUuid": "4cdc6d0f_1d2c6bf1",
      "revId": "035a16f3ccd4207b53688cc97f8ece7eb60ea8e2",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}