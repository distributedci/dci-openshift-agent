- name: Setting up the jumpbox
  hosts: jumpbox
  become: true
  vars_prompt:
    - name: rhn_user
      private: no
    - name: rhn_pass
      private: yes
  tasks:
    - name: Read credentials from env vars
      set_fact:
        dci_client_id: "{{ lookup('env','DCI_CLIENT_ID') }}"
        dci_api_secret: "{{ lookup('env','DCI_API_SECRET') }}"
        dci_cs_url: "{{ lookup('env','DCI_CS_URL') }}"
        dci_ui_url: "{{ lookup('env','DCI_UI_URL') | default('https://www.distributed-ci.io', True) }}"
      no_log: true
    - import_tasks: setup_jumpbox_tasks.yml
